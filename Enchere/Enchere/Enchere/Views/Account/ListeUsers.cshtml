@using Enchere.Models


@{
    ViewBag.Title = "ListeUsers";
}

<h2>Liste Membres Inscrits</h2>
<br />
@Html.ActionLink("Nouvel utilisateur", "Inscription", "Account")
<br /><br /><br />
<table class="table">
    <tr>
		<th>Numero</th>
        <th>@Html.ActionLink("Civilite", "ListeUsers", "Account", new { Order = ViewBag.CiviliteOrder }, null)</th>
        <th>@Html.ActionLink("Nom", "ListeUsers", "Account", new { Order = ViewBag.NomOrder }, null)</th>
        <th>@Html.ActionLink("Prenom", "ListeUsers", "Account", new { Order = ViewBag.PrenomOrder }, null)</th>
        <th>@Html.ActionLink("Langue", "ListeUsers", "Account", new { Order = ViewBag.LangueOrder }, null)</th>
        <th>Telephone</th>
        <th>Adresse</th>
        <th>@Html.ActionLink("Courriel", "ListeUsers", "Account", new { Order = ViewBag.CourrielOrder }, null)</th>
        <th>@Html.ActionLink("Inscription", "ListeUsers", "Account", new { Order = ViewBag.InscriptionOrder }, null)</th>
        <th>@Html.ActionLink("Cote", "ListeUsers", "Account", new { Order = ViewBag.CoteOrder }, null)</th>
        <th></th>
        <th></th>
    </tr>

    @{ if (ViewBag.Users != null)
        {

            try
            {

                foreach (Membre m in ViewBag.Users)
                {
                    <tr>
						<td>
                            @m.Numero
                        </td>
                        <td>
                            @m.Civilite
                        </td>
                        <td>
                            @m.Nom
                        </td>
                        <td>
                            @m.Prenom
                        </td>
                        <td>
                            @m.Langue
                        </td>
                        <td>
                            @m.Telephone
                        </td>
                        <td>
                            @m.Adresse
                        </td>
                        <td>
                            @m.Courriel
                        </td>
                        <td>
                            @String.Format("{0:d/M/yyyy}", @m.DateInscri);

                        </td>
                        <td>
                            @m.Cote
                        </td>
                        @if (m.Courriel != "admin@admin.ca")
                        {
                            <td>
                                @Html.ActionLink("Editer", "Edit", "Account", new { Numero = m.Numero }, null)
                            </td>
                            <td>
                                @Html.ActionLink("Supprimer", "DeleteUser", "Account", new { Numero = m.Numero }, null)
                            </td>
                        }
                        else
                        {
                            <td></td>
                            <td></td>}

                    </tr>
                }

            }
            catch { }
        }
    }

</table>


